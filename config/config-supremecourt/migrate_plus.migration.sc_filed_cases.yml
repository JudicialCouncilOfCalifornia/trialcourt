uuid: 4e8b9136-a1a2-42ad-bc3a-00f1b6539e25
langcode: en
status: true
dependencies: { }
id: sc_filed_cases
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - node
  - filed_cases
migration_group: supremecourt
label: 'Filed Cases: Live JSON Import'
source:
  plugin: url
  data_fetcher_plugin: http
  data_parser_plugin: json
  urls: 'https://appellatecases.courtinfo.ca.gov/jobs/SCSevenDay.json'
  item_selector: /
  headers:
    User-Agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
    Accept: 'application/json'
  fields:
    -
      name: src_case_number
      label: 'Case Number'
      selector: case_number
    -
      name: src_case_title
      label: 'Case Title'
      selector: case_title
    -
      name: src_case_type
      label: 'Case Type'
      selector: case_type
    -
      name: src_init_date
      label: 'Initiation Date'
      selector: case_initiation
  ids:
    src_case_number:
      type: string

process:
  type:
    plugin: default_value
    default_value: filed_cases
  
  title: src_case_title
  
  field_case_number: src_case_number
  
  field_case_type:
    plugin: entity_generate
    source: src_case_type
    value_key: name
    bundle: case_type
    entity_type: taxonomy_term
    ignore_case: true
  
  field_case_initiation_date:
    plugin: format_date
    source: src_init_date
    from_format: m/d/Y
    to_format: Y-m-d

  uid:
    plugin: default_value
    default_value: 1

destination:
  plugin: 'entity:node'
  default_bundle: filed_cases

migration_dependencies: { }